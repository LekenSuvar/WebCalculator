class Calculator{constructor(t,e){this.prevInput=t,this.mainInput=e,this.clear()}clear(){this.currentOperand="",this.previousOperand="",this.operation=void 0}delete(){this.currentOperand=this.currentOperand.toString().slice(0,-1)}appendNumber(t){"."===t&&this.currentOperand.includes(".")||(this.currentOperand=this.currentOperand.toString()+t.toString())}currentOperation(t){""!==this.currentOperand&&(""!==this.previousOperand&&this.calc(),this.operation=t,this.previousOperand=this.currentOperand,this.currentOperand="")}calc(){let t;const e=parseFloat(this.previousOperand),r=parseFloat(this.currentOperand);if(!isNaN(e)&&!isNaN(r)){switch(this.operation){case"+":t=e+r;break;case"-":t=e-r;break;case"*":t=e*r;break;case"/":t=e/r;break;default:return}this.currentOperand=t,this.operation=void 0,this.previousOperand=""}}getDisplayNumber(t){const e=t.toString(),r=parseFloat(e.split(".")[0]),a=e.split(".")[1];let n;return n=isNaN(r)?"":r.toLocaleString("en",{maximumFractionDigits:0}),null!=a?`${n}.${a}`:n}updateDisplay(){this.mainInput.innerText=this.getDisplayNumber(this.currentOperand),null!=this.operation?this.prevInput.innerText=`${this.getDisplayNumber(this.previousOperand)} ${this.operation}`:this.prevInput.innerText=""}divisionX(){const t=this.currentOperand;this.currentOperand=1/t}oppositeX(){const t=this.currentOperand;this.currentOperand=-1*t}}const numberBtn=document.querySelectorAll("[data-number]"),operationBtn=document.querySelectorAll("[data-operation]"),clearAllBtn=document.querySelector("[data-all-clear]"),deleteBtn=document.querySelector("[data-delete]"),prevInput=document.querySelector("[data-prev]"),mainInput=document.querySelector("[data-main]"),equalBtn=document.querySelector("[data-equal]"),divisionBtn=document.querySelector("[data-division]"),oppositeBtn=document.querySelector("[data-opposite]"),calculator=new Calculator(prevInput,mainInput);numberBtn.forEach((t=>{t.addEventListener("click",(()=>{calculator.appendNumber(t.innerText),calculator.updateDisplay()}))})),operationBtn.forEach((t=>{t.addEventListener("click",(()=>{calculator.currentOperation(t.innerText),calculator.updateDisplay()}))})),equalBtn.addEventListener("click",(t=>{calculator.calc(),calculator.updateDisplay()})),clearAllBtn.addEventListener("click",(t=>{calculator.clear(),calculator.updateDisplay()})),deleteBtn.addEventListener("click",(t=>{calculator.delete(),calculator.updateDisplay()})),divisionBtn.addEventListener("click",(t=>{calculator.divisionX(),calculator.updateDisplay()})),oppositeBtn.addEventListener("click",(t=>{calculator.oppositeX(),calculator.updateDisplay()}));